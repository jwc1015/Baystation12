<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../../../"><link rel="stylesheet" href="dmdoc.css"><title>/mob/living/simple_animal/hostile/legion/harvester - Space Station 13</title></head><body><header><a href="index.html">Space Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="mob/living/simple_animal/hostile/legion/harvester.html#var">Var Details</a> - <a href="mob/living/simple_animal/hostile/legion/harvester.html#proc">Proc Details</a></header><main><h1>harvester <aside>/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/simple_animal/hostile/legion.html">simple_animal/hostile/legion</a>/<a href="mob/living/simple_animal/hostile/legion/harvester.html">harvester</a></aside> <a href="https://github.com/jwc1015/Baystation12/blob/e88f38c425b7e3b7b71608ba1eb9d65697146fa5/packs/legion/mob/legion_harvester.dm#L1"><img src="git.png" width="16" height="16" title="packs/legion/mob/legion_harvester.dm 1"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="mob/living/simple_animal/hostile/legion/harvester.html#var/HARVESTER_STATE_DEFAULT">HARVESTER_STATE_DEFAULT</a></th><td>The harvester is currently not doing anything special.</td></tr><tr><th><a href="mob/living/simple_animal/hostile/legion/harvester.html#var/HARVESTER_STATE_EXTRACTING">HARVESTER_STATE_EXTRACTING</a></th><td>The harvester is currently extracting a brain from <code>harvest_target</code>.</td></tr><tr><th><a href="mob/living/simple_animal/hostile/legion/harvester.html#var/HARVESTER_STATE_STORING">HARVESTER_STATE_STORING</a></th><td>The harvester is currently storing an extracted brain.</td></tr><tr><th><a href="mob/living/simple_animal/hostile/legion/harvester.html#var/harvest_target">harvest_target</a></th><td>The current atom selected for harvesting.</td></tr><tr><th><a href="mob/living/simple_animal/hostile/legion/harvester.html#var/harvested_brains">harvested_brains</a></th><td>LAZYLIST (Instances of <code>/obj/item/organ/internal/brain</code> and <code>/obj/item/organ/internal/posibrain</code>). The brains
this harvester has collected. These should also be within <code>contents</code>.</td></tr><tr><th><a href="mob/living/simple_animal/hostile/legion/harvester.html#var/harvester_state">harvester_state</a></th><td>Integer (One of <code>src.HARVESTER_STATE_*</code>). The current activity state of the harvester.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="mob/living/simple_animal/hostile/legion/harvester.html#proc/can_harvest_brain">can_harvest_brain</a></th><td>Whether or not the target is valid for harvesting a brain from. Legion have fancy sensors that can detect the presence of a brain from a distance or something like that.</td></tr><tr><th><a href="mob/living/simple_animal/hostile/legion/harvester.html#proc/collect_brain">collect_brain</a></th><td>Handles storing <code>brain</code> in this harvester's cargo.</td></tr><tr><th><a href="mob/living/simple_animal/hostile/legion/harvester.html#proc/extract_brain_from_external_organ">extract_brain_from_external_organ</a></th><td>Handles extracting <code>brain</code> from <code>external</code>.</td></tr><tr><th><a href="mob/living/simple_animal/hostile/legion/harvester.html#proc/extract_brain_from_mmi">extract_brain_from_mmi</a></th><td>Handles extracting <code>brain</code> from <code>mmi</code>.</td></tr><tr><th><a href="mob/living/simple_animal/hostile/legion/harvester.html#proc/extract_brain_from_mob">extract_brain_from_mob</a></th><td>Handles extracting <code>brain</code> from <code>external</code> while still connected to <code>human</code>.</td></tr><tr><th><a href="mob/living/simple_animal/hostile/legion/harvester.html#proc/harvest_brain">harvest_brain</a></th><td>Attempts to 'harvest' the target's brain into this harvester's internal storage.</td></tr><tr><th><a href="mob/living/simple_animal/hostile/legion/harvester.html#proc/set_harvester_state">set_harvester_state</a></th><td>Sets the harvester's harvesting state. Primarily used to synchronize the harvester's AI busy state.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/HARVESTER_STATE_DEFAULT"><aside class="declaration">var </aside>HARVESTER_STATE_DEFAULT <aside>– /const</aside> <a href="https://github.com/jwc1015/Baystation12/blob/e88f38c425b7e3b7b71608ba1eb9d65697146fa5/packs/legion/mob/legion_harvester.dm#L32"><img src="git.png" width="16" height="16" title="packs/legion/mob/legion_harvester.dm 32"></a></h3><p>The harvester is currently not doing anything special.</p><h3 id="var/HARVESTER_STATE_EXTRACTING"><aside class="declaration">var </aside>HARVESTER_STATE_EXTRACTING <aside>– /const</aside> <a href="https://github.com/jwc1015/Baystation12/blob/e88f38c425b7e3b7b71608ba1eb9d65697146fa5/packs/legion/mob/legion_harvester.dm#L34"><img src="git.png" width="16" height="16" title="packs/legion/mob/legion_harvester.dm 34"></a></h3><p>The harvester is currently extracting a brain from <code>harvest_target</code>.</p><h3 id="var/HARVESTER_STATE_STORING"><aside class="declaration">var </aside>HARVESTER_STATE_STORING <aside>– /const</aside> <a href="https://github.com/jwc1015/Baystation12/blob/e88f38c425b7e3b7b71608ba1eb9d65697146fa5/packs/legion/mob/legion_harvester.dm#L36"><img src="git.png" width="16" height="16" title="packs/legion/mob/legion_harvester.dm 36"></a></h3><p>The harvester is currently storing an extracted brain.</p><h3 id="var/harvest_target"><aside class="declaration">var </aside>harvest_target <aside>– /<a href="atom.html">atom</a></aside> <a href="https://github.com/jwc1015/Baystation12/blob/e88f38c425b7e3b7b71608ba1eb9d65697146fa5/packs/legion/mob/legion_harvester.dm#L20"><img src="git.png" width="16" height="16" title="packs/legion/mob/legion_harvester.dm 20"></a></h3><p>The current atom selected for harvesting.</p><h3 id="var/harvested_brains"><aside class="declaration">var </aside>harvested_brains <aside>– /list</aside> <a href="https://github.com/jwc1015/Baystation12/blob/e88f38c425b7e3b7b71608ba1eb9d65697146fa5/packs/legion/mob/legion_harvester.dm#L26"><img src="git.png" width="16" height="16" title="packs/legion/mob/legion_harvester.dm 26"></a></h3><p>LAZYLIST (Instances of <code>/obj/item/organ/internal/brain</code> and <code>/obj/item/organ/internal/posibrain</code>). The brains
this harvester has collected. These should also be within <code>contents</code>.</p><h3 id="var/harvester_state"><aside class="declaration">var </aside>harvester_state <aside>– </aside> <a href="https://github.com/jwc1015/Baystation12/blob/e88f38c425b7e3b7b71608ba1eb9d65697146fa5/packs/legion/mob/legion_harvester.dm#L29"><img src="git.png" width="16" height="16" title="packs/legion/mob/legion_harvester.dm 29"></a></h3><p>Integer (One of <code>src.HARVESTER_STATE_*</code>). The current activity state of the harvester.</p><h2 id="proc">Proc Details</h2><h3 id="proc/can_harvest_brain"><aside class="declaration">proc </aside>can_harvest_brain<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/target, skip_incapacitation_checks)  <a href="https://github.com/jwc1015/Baystation12/blob/e88f38c425b7e3b7b71608ba1eb9d65697146fa5/packs/legion/mob/legion_harvester.dm#L144"><img src="git.png" width="16" height="16" title="packs/legion/mob/legion_harvester.dm 144"></a></aside></h3><p>Whether or not the target is valid for harvesting a brain from. Legion have fancy sensors that can detect the presence of a brain from a distance or something like that.</p>
<p>Does not include adjacency checks as this is also intended for selecting a target to move to.</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>target</code> - The atom to validate.</li>
<li><code>skip_incapacitation_checks</code> (Boolean, default <code>FALSE</code>) - If set, and <code>target</code> is a mob, skips checks that ensure the target is incapacitated and &quot;safe&quot; to extract from.</li>
</ul>
<p>Returns boolean. If <code>TRUE</code>, <code>target</code> is a valid target for <code>harvest_brain()</code>.</p><h3 id="proc/collect_brain"><aside class="declaration">proc </aside>collect_brain<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/organ.html">organ</a>/internal/brain)  <a href="https://github.com/jwc1015/Baystation12/blob/e88f38c425b7e3b7b71608ba1eb9d65697146fa5/packs/legion/mob/legion_harvester.dm#L249"><img src="git.png" width="16" height="16" title="packs/legion/mob/legion_harvester.dm 249"></a></aside></h3><p>Handles storing <code>brain</code> in this harvester's cargo.</p>
<p>Returns boolean.</p><h3 id="proc/extract_brain_from_external_organ"><aside class="declaration">proc </aside>extract_brain_from_external_organ<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/organ.html">organ</a>/<a href="obj/item/organ/external.html">external</a>/external, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/organ.html">organ</a>/internal/brain, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/human)  <a href="https://github.com/jwc1015/Baystation12/blob/e88f38c425b7e3b7b71608ba1eb9d65697146fa5/packs/legion/mob/legion_harvester.dm#L272"><img src="git.png" width="16" height="16" title="packs/legion/mob/legion_harvester.dm 272"></a></aside></h3><p>Handles extracting <code>brain</code> from <code>external</code>.</p>
<p>Returns boolean.</p><h3 id="proc/extract_brain_from_mmi"><aside class="declaration">proc </aside>extract_brain_from_mmi<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/device/mmi/mmi, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/organ.html">organ</a>/internal/brain/brain)  <a href="https://github.com/jwc1015/Baystation12/blob/e88f38c425b7e3b7b71608ba1eb9d65697146fa5/packs/legion/mob/legion_harvester.dm#L366"><img src="git.png" width="16" height="16" title="packs/legion/mob/legion_harvester.dm 366"></a></aside></h3><p>Handles extracting <code>brain</code> from <code>mmi</code>.</p>
<p>Returns boolean.</p><h3 id="proc/extract_brain_from_mob"><aside class="declaration">proc </aside>extract_brain_from_mob<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/human, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/organ.html">organ</a>/<a href="obj/item/organ/external.html">external</a>/external, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/organ.html">organ</a>/internal/brain)  <a href="https://github.com/jwc1015/Baystation12/blob/e88f38c425b7e3b7b71608ba1eb9d65697146fa5/packs/legion/mob/legion_harvester.dm#L327"><img src="git.png" width="16" height="16" title="packs/legion/mob/legion_harvester.dm 327"></a></aside></h3><p>Handles extracting <code>brain</code> from <code>external</code> while still connected to <code>human</code>.</p>
<p>If the target organ can be amputated, tears it off before extracting for extra brutality.</p>
<p>Returns boolean.</p><h3 id="proc/harvest_brain"><aside class="declaration">proc </aside>harvest_brain<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/target)  <a href="https://github.com/jwc1015/Baystation12/blob/e88f38c425b7e3b7b71608ba1eb9d65697146fa5/packs/legion/mob/legion_harvester.dm#L198"><img src="git.png" width="16" height="16" title="packs/legion/mob/legion_harvester.dm 198"></a></aside></h3><p>Attempts to 'harvest' the target's brain into this harvester's internal storage.</p>
<p>Does not perform <code>can_harvest_brain()</code> checks as it's assumed this was already checked before calling this proc.</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>target</code> - The atom being harvested. Currently valid types include:
<ul>
<li><code>/obj/item/organ/internal/brain</code> - Collects the brain</li>
<li><code>/obj/item/organ/internal/posibrain</code> - Collects the brain</li>
<li><code>/obj/item/organ/external</code> - Will attempt to extract a brain if present</li>
<li><code>/mob/living/carbon/human</code> - Will attempt to extract a brain if present</li>
</ul>
</li>
</ul>
<p>Returns boolean. Whether or not a brain was successfully harvested.</p><h3 id="proc/set_harvester_state"><aside class="declaration">proc </aside>set_harvester_state<aside>(new_state)  <a href="https://github.com/jwc1015/Baystation12/blob/e88f38c425b7e3b7b71608ba1eb9d65697146fa5/packs/legion/mob/legion_harvester.dm#L115"><img src="git.png" width="16" height="16" title="packs/legion/mob/legion_harvester.dm 115"></a></aside></h3><p>Sets the harvester's harvesting state. Primarily used to synchronize the harvester's AI busy state.</p>
<p>Includes validation to ensure <code>new_state</code> is a valid state, otherwise crashes without updating.</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>new_state</code> (Integer - One of <code>HARVESTER_STATE_*</code>, default <code>HARVESTER_STATE_DEFAULT</code>) - The new state to set.</li>
</ul>
<p>Has no return value.</p></main><footer>baystation12.dme <a href="https://github.com/jwc1015/Baystation12/tree/e88f38c425b7e3b7b71608ba1eb9d65697146fa5">e88f38c</a> (dev) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>